<html lang="fr">
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <button id="forms-btn" >Get all pokemon with forms</button>
        <p id="mainp"></p>
        <script>
            document.getElementById("forms-btn").addEventListener("click", async function () {
                mainp = document.getElementById("mainp")
                if (pokemonSpeciesData == undefined) {
                    mainp.innerHTML = "Do not have informations at the moment, pls try to refresh."
                    return 0
                }
                mainp.innerHTML = "["
                for (var i = 0; i < pokemonSpeciesData.results.length; i++) {
                    mainp.innerHTML += "'" + pokemonSpeciesData.results[i].name + "',"
                }
                mainp.innerHTML += "]"
            })
            const url = 'https://pokeapi.co/api/v2/pokemon-form/';

            // Variable pour stocker les données
            let pokemonSpeciesData;

            fetch(url)
            .then(response => response.json())
            .then(data => {
                pokemonSpeciesData = data; // Affecte les données JSON à la variable
                console.log(pokemonSpeciesData); // Affiche les données
            })
            .catch(error => console.error('Erreur:', error));

            // Attention : pokemonSpeciesData sera `undefined` ici
            console.log(pokemonSpeciesData); // undefined car fetch est asynchrone

        </script>
        <script src="pokemon_with_forms.js"></script>
    </body>
</html>
